"use strict";(self.webpackChunkgatsby_address_book=self.webpackChunkgatsby_address_book||[]).push([[678],{540:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var a,r=n(785),l=n(294),s=new Uint8Array(16);function o(){if(!a&&!(a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(s)}var m=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var c=function(e){return"string"==typeof e&&m.test(e)},d=[],u=0;u<256;++u)d.push((u+256).toString(16).substr(1));var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n};var b=function(e,t,n){var a=(e=e||{}).random||(e.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=a[r];return t}return i(a)},f="address-book";var p=[{id:1,name:"name1",address:"address1",phoneNumber:"123123123"},{id:2,name:"name2",address:"address2",phoneNumber:"123123123"},{id:3,name:"name3",address:"address3",phoneNumber:"123123123"}];function N(){var e=(0,l.useState)(function(){var e="undefined"!=typeof window&&localStorage.getItem(f);return e?JSON.parse(e):p}()),t=e[0],n=e[1],a=(0,l.useState)(null),s=a[0],o=a[1],m=(0,l.useState)(null),c=m[0],d=m[1],u=(0,l.useRef)();return(0,l.useEffect)((function(){"undefined"!=typeof window&&localStorage.setItem(f,JSON.stringify(t))}),[t]),l.createElement("main",{className:"container"},l.createElement("h2",{className:"text-center bg-primary mt-4 mb-5"},"Address Book"),l.createElement("div",{className:"d-flex justify-content-between align-items-center mb-3"},l.createElement("h3",{className:"m-0"},"Contacts"),l.createElement("div",null,l.createElement("button",{type:"button",className:"btn btn-primary me-2",onClick:function(){return d({id:b(),name:"",address:"",phoneNumber:""})}},"New Contact"),l.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){"undefined"!=typeof window&&localStorage.removeItem(f),n(p)}},"RESET"))),l.createElement("div",{className:"table-responsive"},l.createElement("table",{className:"table"},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",{scope:"col"},"Name"),l.createElement("th",{scope:"col"},"Address"),l.createElement("th",{scope:"col"},"Phone"),l.createElement("th",{scope:"col"},"Actions"))),l.createElement("tbody",null,t.map((function(e){return l.createElement("tr",{key:e.id},l.createElement("td",null,e.name),l.createElement("td",null,e.address),l.createElement("td",null,e.phoneNumber),l.createElement("td",{className:"text-nowrap"},l.createElement("button",{type:"button",className:"btn btn-warning me-3",onClick:function(){return o(e)}},"Edit"),l.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return a=e.id,r=t.filter((function(e){return e.id!==a})),void n(r);var a,r}},"Delete")))}))))),s&&l.createElement("div",{className:"overlay"},l.createElement("div",{className:"edit-contact flex-grow-1"},l.createElement("div",{className:"text-end"},l.createElement("button",{type:"button",className:"btn-close btn-close-white","aria-label":"Close",onClick:function(){return o(null)}})),l.createElement("form",{onSubmit:function(e){e.preventDefault(),n(t.map((function(e){return e.id===s.id?Object.assign({},e,{name:s.name,address:s.address,phoneNumber:s.phoneNumber}):e}))),o(null)}},l.createElement("div",{className:"mb-3"},l.createElement("label",{htmlFor:"editName",className:"form-label text-light"},"Name*"),l.createElement("input",{type:"text",className:"form-control",id:"editName",value:s.name,onChange:function(e){return o(Object.assign({},s,{name:e.target.value}))},required:!0,autoFocus:!0})),l.createElement("div",{className:"mb-3"},l.createElement("label",{htmlFor:"editAddress",className:"form-label text-light"},"Address"),l.createElement("input",{type:"text",className:"form-control",id:"editAddress",value:s.address,onChange:function(e){return o(Object.assign({},s,{address:e.target.value}))}})),l.createElement("div",{className:"mb-3"},l.createElement("label",{htmlFor:"editPhone",className:"form-label text-light"},"Phone"),l.createElement("input",{type:"number",className:"form-control",id:"editPhone",value:s.phoneNumber,onChange:function(e){return o(Object.assign({},s,{phoneNumber:e.target.value}))}})),l.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")))),c&&l.createElement("div",{className:"overlay"},l.createElement("div",{className:"add-contact flex-grow-1"},l.createElement("div",{className:"text-end"},l.createElement("button",{type:"button",className:"btn-close btn-close-white","aria-label":"Close",onClick:function(){return d(!1)}})),l.createElement("form",{onSubmit:function(e){e.preventDefault(),n([].concat((0,r.Z)(t),[c])),d({id:b(),name:"",address:"",phoneNumber:""}),u.current.focus()}},l.createElement("div",{className:"mb-3"},l.createElement("label",{htmlFor:"addName",className:"form-label text-light"},"Name*"),l.createElement("input",{ref:u,type:"text",className:"form-control",id:"addName",value:c.name,onChange:function(e){return d(Object.assign({},c,{name:e.target.value}))},autoFocus:!0,required:!0})),l.createElement("div",{className:"mb-3"},l.createElement("label",{htmlFor:"addAddress",className:"form-label text-light"},"Address"),l.createElement("input",{type:"text",className:"form-control",id:"addAddress",value:c.address,onChange:function(e){return d(Object.assign({},c,{address:e.target.value}))}})),l.createElement("div",{className:"mb-3"},l.createElement("label",{htmlFor:"addPhone",className:"form-label text-light"},"Phone"),l.createElement("input",{type:"number",className:"form-control",id:"addPhone",value:c.phoneNumber,onChange:function(e){return d(Object.assign({},c,{phoneNumber:e.target.value}))}})),l.createElement("button",{type:"submit",className:"btn btn-primary"},"Add")))))}}}]);
//# sourceMappingURL=component---src-pages-index-js-3782c0307637c3c8dd59.js.map